if("undefined"==typeof jQuery)
throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2)
throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}
var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}
a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)
return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))
return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}
var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}
var c=function(b){this.element=a(b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}
var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}
function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}
var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.6",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)
return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)
if(void 0!==a.style[c])
return{end:b[c]};return!1}
a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),$(function(){$("#upper").click(function(){return $("html, body").animate({scrollTop:0},"slow"),!1}),$(".dropdown-form").click(function(a){a.stopPropagation()});var a=$("#body_left").offset().top,b=$("html"),c=function(){var c=$(window).scrollTop();c>a?$(b).addClass("headfix"):$(b).removeClass("headfix")};c(),$(window).scroll(function(){c()});var d=[],e=$("#header .h_btn").click(function(a){a.preventDefault(),e.not(this).toggleClass("open",!1),$("html").removeClass(d),$(this).toggleClass("open").hasClass("open")&&$("html").addClass($(this).prop("id")+"_open")});e.each(function(){d.push($(this).attr("id")+"_open")}),d=d.join(" "),$(".soc_links a").on("click",function(){var a=820,b=420,c=(screen.width-a)/2,d=(screen.height-b)/2-100;return auth_window=window.open(href,"auth_window","width="+a+",height="+b+",top="+d+",left="+c+"menubar=no,resizable=no,scrollbars=no,status=no,toolbar=no"),!1})});$.fn.zoomtext=function(e){var o={min:8,max:32,increment:"+=1",recovery:!1,skip:!1,conserve:!0};o=$.extend(o,e);e=$("*",this).add(this);var i=this.selector;e.each(function(e,t){var n=$(this).css("fontSize");!$(this).data("fontSize")&&$(this).data("fontSize",n).css("fontSize",n)}),o.skip&&(e=e.not($(o.skip,this)));var c=JSON.parse(localStorage.getItem("elementsFont"))||{};return e.each(function(e,t){var n=$(this).css("fontSize");n=$("<div/>",{css:{fontSize:n}}).css("fontSize",o.increment).css("fontSize");o.max&&parseFloat(n)>o.max&&(n=o.max),o.min&&parseFloat(n)<o.min&&(n=o.min),o.recovery&&(n=$(this).data("fontSize")),o.conserve&&(c[i]={fontSize:n,skip:o.skip}),localStorage.setItem("elementsFont",JSON.stringify(c)),$(this).css({fontSize:n})})},$(document).ready(function(){document.onkeydown=function(e){e||(e=window.event);if($(e.target).is('input, textarea'))return;var n,t=e.keyCode;e&&(37==t&&(n=document.getElementById("prev")),39==t&&(n=document.getElementById("next")));n&&(location.href=n.href)}});function goFeed(a,b,c){$.post("/engine/ajax/controller.php?mod=addfeed",{cat_id:a,action:b,profile:1},function(){$(c).parents(".si-wrap").slideUp()})}
function gooFeed(a,b,c){$.post("/engine/ajax/controller.php?mod=addfeed",{cat_id:a,action:b},function(a){$(c).replaceWith(a)})}
$(function(){$(window).scroll(function(){0!=$(this).scrollTop()?$("#toTop").fadeIn():$("#toTop").fadeOut()}),$("#toTop").click(function(){$("body,html").animate({scrollTop:0},800)})
$("#ratedialog").dialog({autoOpen:false,modal:true,show:'fade',hide:'fade',dialogClass:'modalfixed',width:380});});function CommShowCont(){$('.showcont').each(function(){var showcontH=$(this).find('.showcont-h').height();var showcontHH=$(this).find('.showcont-hh').height();if(showcontHH<showcontH){$(this).addClass('active');}});}
$(document).on('click','.faq-item',function(e){e.preventDefault();$(this).parent('li').toggleClass('open');}).on('click','.spoiler-btn',function(e){e.preventDefault();$(this).parent('.spoiler').addClass('active');}).on('click','.showcont-btn',function(e){e.preventDefault();$(this).parent('.showcont').removeClass('active');});$(function(){CommShowCont();});$(function(){$(document).on("click",".feeds-filter",function(){var e=$(this),t=e.data("type");$(".feeds-filter").removeClass("ff-active"),e.addClass("ff-active");var n=$(".feeds-btn").html();$.post("/engine/ajax/controller.php?mod=feeds_filter",{type:t},function(e){$("#dle-content").html('<div class="feeds-btn">'+n+"</div>"+e)})}).on("click",".more-feeds",function(){var t=$(this),e=t.data("id"),n=t.data("type");t.text();t.text("Loading...").attr("disabled","disabled"),$.post("/engine/ajax/controller.php?mod=feeds_filter",{type:n,id:e},function(e){t.remove(),$("#dle-content").append(e)})}).on("click",".feeds-read",function(){DLEconfirm("Definitely want to mark everything read?",dle_confirm,function(){$.post("/engine/ajax/controller.php?mod=addfeed",{action:"read"},function(e){DLEalert(e,"Information")})})})});function change_skin(n){$.post("",{action_skin_change:"yes",skin_name:n},function(n){location.reload()})}
var Cookie={cache:{},create:function(e,i,o){if((o=$.extend({},o)).expires=o.expires||1,"number"==typeof o.expires){var r=o.expires;o.expires=new Date,o.expires.setTime(o.expires.getTime()+36e5*r)}
var t=[encodeURIComponent(e)+"=",o.escape?encodeURIComponent(i):i,o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""];document.cookie=t.join(""),Cookie.cache&&(o.expires.getTime()<(new Date).getTime()?delete Cookie.cache[e]:Cookie.cache[e]=i)},read:function(e){if(Cookie.cache[e])
return Cookie.cache[e];var i={},o=document.cookie.split(";");if(0<o.length)
for(var r=0;r<o.length;r++){var t=o[r].split("=");2<=t.length&&(i[$.trim(t[0])]=t[1])}
return(Cookie.cache=i)[e]||null},erase:function(e,i){i?i.expires||(i.expires=-1):i={expires:-1},Cookie.create(e,0,i)},isSupported:function(){return-1!=document.cookie.indexOf("=")}};function updFavList(n,i,o){ShowLoading(""),$.get(dle_root+"engine/ajax/controller.php?mod=favorites",{fav_id:n,action:i,type:o,skin:dle_skin,alert:1,user_hash:dle_login_hash},function(i){HideLoading(""),$(".fav-id-"+n).html(i)})}
jQuery(function($){$("#ratedialog").dialog({autoOpen:false,show:{effect:"fade",duration:500},hide:{effect:"fade",duration:500}});$('body').on('click','.openratedialog',function(){$('#ratedialog').dialog('open');});$("#ratehistory").dialog({autoOpen:false,show:{effect:"fade",duration:500},hide:{effect:"fade",duration:500}});$('body').on('click','.openratehistory',function(){var newsid=$('.openratehistory').attr('data-newsid');$.post("/engine/ajax/controller.php?mod=rating_history",{newsid:newsid}).done(function(data){$('#ratehistory').html(data);});$('#ratehistory').dialog('open');});});function save_last_viewed_chapter(id,limit){id=parseInt(id);if(isNaN(id))return null;var id_array=get_local_storage('viewed_chapter_ids');if($.isArray(id_array)){let index=$.inArray(id,id_array);if(index==-1){id_array.length>limit&&id_array.pop();}else{id_array.splice(index,1);}
id_array.unshift(id);}else{id_array=[id];}
set_local_storage('viewed_chapter_ids',id_array);setcookie('viewed_chapter_ids',id_array.join());}
function showLastChapter(id){$.post(dle_root+'engine/mods/reader/ajax.php',{action:'get_last_chapter',book_id:id},d=>{d.chapter.id&&$('#last_chapter').show().html('Last chapter: <a href="'+d.chapter.link+'" target="_blank">'+d.chapter.title+'</a>');},'json');}
function addChapterInit(){let post_id=localStorage.getItem('addchapter_post_id');post_id&&(post_id=parseInt(post_id));if(window.location.hash){let temp=window.location.hash.match(/^#id=(\d+)/i);temp=parseInt(temp[1]);if(typeof temp=='number'&&temp){post_id=temp;}}
post_id&&showLastChapter(post_id);$('#post_id').on('change',v=>{localStorage.setItem('addchapter_post_id',v.target.value);v.target.value&&showLastChapter(v.target.value);}).val(post_id).chosen({allow_single_deselect:true,no_results_text:'Not results'});}
$(document).on('click','.moreless__toggle',function(e){e.preventDefault();e.stopPropagation();$(this).closest('.moreless').find('.moreless__full, .moreless__short').toggleClass('is-active');}).on('lazyshow',function(e){if(e.target.id!='ranking-page')return;let $this=$(e.target);ShowLoading();$('#ranking-page').remove();$.ajax({url:$this.data('url'),type:'POST',dataType:'html',data:{cstart:$this.data('page'),ajax:true},}).done(d=>{$('#ranking-content').append($('#ranking-content',d).html())
$(window).lazyLoadXT();}).fail(e=>DLEalert(e.responseText,'Error')).always(()=>HideLoading());});$(function(){if(typeof $.lazyLoadXT!='undefined'){$.lazyLoadXT.selector+=',#ranking-page';}})